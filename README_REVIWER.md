# Инструкция к запуску:

Локальный запуск не стал делать, решил сразу в докер все сервисы запихнуть

## build

Заполнить .env файл по примеру из env.sample 

    docker compose up --build

Здесь поднимутся все сервисы, etl скрипт подождет поднятия es,
а django выполнит миграции и создаст суперпользователя
  
## test data indexing

Ранее мы писали генерацию данных в бд, 
можно воспользоваться им же тут

    docker ps

В консоли найти container id с django, у него будет порт 8000

    docker exec -it <django docker id> sh
    python manage.py generate_test_data

Curl запрос для проверки работы etl скрипта
``` http://localhost:9200/movies/_search?pretty=true&q=*:* ```

В результате в поле hits будут перенесенные данные из django
  
# Ответы на комментарии ревью:
#### Хорошее решение с проставлением флагов на отправленные фильмы, однако, оно требует внушительного количества операций обновления БД. Более простой кейс - держать в таблице movies_media инкрементальный id, вытаскивать данные сортированные по ключу, и сохранять в промежуточном хранилище (например, редис или просто файлик) значение last_inserted_id.

В учебных материалах был разбор разных видов id и в итоге пришли к выводу, что нужен именно uuid
