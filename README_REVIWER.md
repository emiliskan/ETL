# Хорошее решение с проставлением флагов на отправленные фильмы, однако, оно требует внушительного количества операций обновления БД. Более простой кейс - держать в таблице movies_media инкрементальный id, вытаскивать данные сортированные по ключу, и сохранять в промежуточном хранилище (например, редис или просто файлик) значение last_inserted_id.

В учебных материалах был разбор разных видов id и в итоге пришли к выводу, что нужен именно uuid

# Инструкция к запуску:

локальный запуск не стал делать, решил сразу в докер все сервисы запихнуть

## build

- заполнить .env файл по примеру из env.sample
- выполнить в корне проекта ``` docker compose up --build ```
здесь поднимутся все сервисы, etl скрипт подождет поднятия es
  
## test data indexing

сгенирировать данные можно с помощью:

    docker ps

в консоли найти container id с django, у него будет порт 8000

    docker exec -it <django docker id> sh
    python manage.py generate_test_data

curl запрос для проверки работы etl скрипта
``` http://localhost:9200/movies/_search?pretty=true&q=*:* ```

в результате в поле hits будут перенесенные данные из django
  